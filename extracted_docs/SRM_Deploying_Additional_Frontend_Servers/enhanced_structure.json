{
  "chapters": [
    {
      "id": "chapter_01",
      "title": "Document Introduction",
      "complete_content": "",
      "font_size": 0,
      "is_bold": false,
      "page": 1,
      "heading_level": 1,
      "confidence": 0.3,
      "type": "chapter",
      "sections": [
        {
          "id": "section_001",
          "title": "Guidelines for Deploying Additional Frontend Servers",
          "complete_content": "\n<!-- image -->\n",
          "font_size": 22.0,
          "is_bold": false,
          "page": 1,
          "heading_level": 3,
          "confidence": 0.9,
          "type": "section",
          "content_length": 16
        },
        {
          "id": "section_002",
          "title": "Notes, cautions, and warnings",
          "complete_content": "\n<!-- image -->\n\nNOTE:\n\nA NOTE indicates important information that helps you make better use of your product.\n\nCAUTION: A CAUTION indicates either potential damage to hardware or loss of data and tells you how to avoid the problem.\n\nWARNING: A WARNING indicates a potential for property damage, personal injury, or death.\n\n© 2016-2024 Dell Inc. or its subsidiaries. All rights reserved. Dell Technologies, Dell, and other trademarks are trademarks of Dell Inc. or its subsidiaries. Other trademarks may be trademarks of their respective owners.\n\n## Contents\n\n| Chapter 1: Introduction................................................................................................................. 4                                                 |\n|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Audience................................................................................................................................................................................ 4 |\n| Introduction...........................................................................................................................................................................4   |\n| Chapter 2: Architecture overview..................................................................................................5                                                        |\n| Additional frontend server deployment..........................................................................................................................5                           |\n| Additional frontend server configuration.......................................................................................................................6                           |\n| Chapter 3: Configuring the SRM management functions............................................................... 7                                                                       |\n| Adding MySQL grants to the databases........................................................................................................................ 7                             |\n| Configuring compliance......................................................................................................................................................8              |\n| LDAP authentication...........................................................................................................................................................8            |\n| Import-Properties task.......................................................................................................................................................8             |\n| Activate the new configuration settings ...................................................................................................................... 9                           |\n| Chapter 4: Configuring the shared reports and tasks...................................................................10                                                                   |\n| Consolidate the scheduled reports................................................................................................................................10                        |\n| Configuring an NFS share for the user reports..........................................................................................................10                                  |\n| Consolidate the scheduled reports................................................................................................................................12                        |\n| Additional frontend server tasks.................................................................................................................................... 13                    |\n| Chapter 5: Documentation Feedback........................................................................................... 14                                                            |\n| Appendix A: F5 load balancer configuration.................................................................................15                                                              |\n| Appendix B: HAProxy load balancer configuration....................................................................... 16                                                                  |\n| Appendix C: FAQ..........................................................................................................................18                                                |\n| SolutionPacks report installation....................................................................................................................................18                    |\n| SolutionPacks upload........................................................................................................................................................ 18            |\n| SolutionPacks formula...................................................................................................................................................... 18             |\n| SolutionPacks property-mapping...................................................................................................................................18                        |\n\n## Introduction\n\nThis document describes how to deploy Additional Frontend Servers in an Dell SRM installation. You can easily extend the procedures in this document to cover installations that require more than two Frontend Servers. Dell Technologies recommends that each Frontend Server should serve no more than 10 concurrent and active users.\n\nThis document replaces all previously-published documents on configuring multiple Dell SRM Frontend Servers.\n\n## Topics:\n\n- Audience\n- Introduction\n\n## Audience\n\nThis topic briefs about the target audience for this document.\n\nThis document is intended for anyone planning to deploy Additional Frontend Servers in a Dell SRM installation.\n\nThis document assumes that the primary Frontend Server is already installed and running. This Frontend Server (which is the first Frontend Server to be installed) is the user interface for the product.\n\nSee the Dell SRM Installation and Configuration guide for details on deploying the Frontend Server.\n\n## Introduction\n",
          "font_size": 11.5,
          "is_bold": false,
          "page": 2,
          "heading_level": 5,
          "confidence": 0.9,
          "type": "section",
          "content_length": 6534
        },
        {
          "id": "section_003",
          "title": "Introduction to guidelines for deploying additional frontend servers.",
          "complete_content": "\nThe performance and scalability guidelines recommend that you have one Frontend Server for every 10 active and concurrent users. If you plan on having more than 10 users, you must deploy more Frontend Servers. Using a load balancer to distribute processing among multiple Frontend Servers is highly recommended. Another use case for deploying additional Frontend Servers is to offload the scheduled report from the Primary Frontend Server to improve UI performance.\n\nAlthough this guide covers the F5 and HAproxy load balancers, you can use the load balancer of your choice. These two load balancers are provided as examples in the section 'Architecture with network Load Balancers.'\n\nIn a multiple Frontend Server environment, only one Frontend Server should handle the web- applications that are listed under the Administrator panel. These web-applications are:\n\n- Alerting-Frontend\n- APG-Web-Service\n- Administration\n- Compliance Frontend\n- Device-Discovery\n- MIB-Browser\n\nThe first installed Frontend Server is now called the Primary Frontend Server and the subsequent Frontend Server installed is called the Additional Frontend Server. The Primary Frontend Server provides all the SRM functionality (user and Administration) while the Additional Frontend Server only provides user functions.\n\nWhen a user logs in to an Additional Frontend Server, all user-related reports and functions are available through the Additional Frontend Server the user logged into. If the user is in the Administration UI and selects any of the administration functions available in this UI, the user will be redirected to the Primary Frontend Server and forced to log in again to the Primary Frontend Server.\n\n## Architecture overview\n\nWithout network load balancers, the user would log into one of the installed Frontend Servers (Primary or Additional). Users are typically assigned to a frontend for SRM environments that have greater than 10 concurrent user activity.\n\n## Topics:\n\n- Additional frontend server deployment\n- Additional frontend server configuration\n",
          "font_size": 22.0,
          "is_bold": false,
          "page": 1,
          "heading_level": 3,
          "confidence": 0.9,
          "type": "section",
          "content_length": 2053
        },
        {
          "id": "section_004",
          "title": "Additional frontend server deployment",
          "complete_content": "\nYou can install the Additional Frontend Server from the 1VM vApp deployment software or using the binary deployment software. Run the Frontend and all Database servers as Linux operating system servers when the metric count is greater than 5M:\n\nEnsure the Frontend Server is installed as described in the Dell SRM Installation and Configuration Guide. After the deployment of Additional Frontend Server if the existing SRM Servers are in a vApp folder, move the new Additional Frontend Server into the vApp folder and edit the vApp Start-up order to start the Additional Frontend Server with the Primary Frontend Server.\n\n```\nlppa028:~ # manage-modules.sh list installed Installed Modules: Identifier                        Instance                     : Category --------------------              ------------                 ---------------*administration-tool              Default                      : Tools *alerting-frontend                alerting-frontend            : Web-Applications *centralized-management           centralized-management       : Web-Applications *compliance-frontend              compliance-frontend          : Web-Applications *device-discovery                 device-discovery             : Web-Applications *diagnostic-tools                 Default                      : Tools *esrs-manager                     Default                      : Tools *formulas-resources               Default                      : Custom *frontend                         APG                          : Web-Applications *frontend-report-generator        Default                      : Tools *frontend-ws                      APG-WS                       : Web-Applications *generic-usage-intelligence       Generic-Usage-Intelligence   : Block *java                             8.0.72                       : Java *jdbc-drivers                     Default                      : Databases *license-manager                  Default                      : Tools *mib-browser                      mib-browser                  : Web-Applications *module-manager                   1.9                          : Tools *property-store                   Default                      : Databases *srm                              Default                      : Product *task-scheduler                   Default                      : Tools *tomcat                           Default                      : Web-Servers *usage-intelligence               Generic-Usage-Intelligence   : Tools *vapp-manager                     Default                      : Tools *webapps-resources                Default                      : Custom *webservice-gateway               Default                      : Tools *whatif-scenario-cli              Default                      : Tools lppa028:~ # manage-modules.sh service status all *Checking 'webservice-gateway Default'...                                      [ running ] *Checking 'tomcat Default'...                                                  [ running ] *Checking 'task-scheduler Default'...                                          [ running ] lppa028:~ #\n```\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 5,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 3121
        },
        {
          "id": "section_005",
          "title": "Additional frontend server configuration",
          "complete_content": "\n## Steps\n\n1. Manually start the Save Frontend VM.\n2. Copy the files that are listed below from the Primary Frontend Server to the Additional Frontend Server.\n3. NOTE: You can use the scp command to do it or WinSCP. Dell Technologies recommends that you back up the files on the Additional Frontend Server before overwriting them.\n4. …/APG/Web-Servers/Tomcat/&lt;instance-name&gt;/conf/server.xml\n5. …/APG/Web-Servers/Tomcat/&lt;instance-name&gt;/conf/Catalina/localhost/APG.xml\n6. …/APG/Web-Servers/Tomcat/&lt;instance-name&gt;/conf/Catalina/localhost/APG-WS.xml\n7. …/APG/Tools/Frontend-Report-Generator/&lt;instance-name&gt;/conf/report-generation- config.xml\n8. …/APG/Tools/Administration-Tool/&lt;instance-name&gt;/conf/master-accessor-service-conf.xml\n9. …/APG/Tools/WhatIf-Scenario-CLI/&lt;instance-name&gt;/conf/whatif-scenario-cli-conf.xml\n\n<!-- image -->\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 6,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 864
        }
      ],
      "content_length": 0
    },
    {
      "id": "chapter_02",
      "title": "Configuring the SRM management functions",
      "complete_content": "\nThe Dell SRM management functions are always run from the Primary Frontend Server. When a user logs into an Additional Frontend Server and selects an Administration function, the user is redirected to the Primary Frontend Server and is forced to log in again.\n\nThis redirection is accomplished by editing the common.properties file in the following location:../APG/WebApplications/Admin-UI/admin/conf/common.properties\n\nFollowing line should be changed in the file: apg.admin.url=https://&lt;FQDNPrimaryFrontendserver&gt;:58443/ admin/\n\n## Topics:\n\n- Adding MySQL grants to the databases\n- Configuring compliance\n- LDAP authentication\n- Import-Properties task\n- Activate the new configuration settings\n",
      "font_size": 24.0,
      "is_bold": true,
      "page": 7,
      "heading_level": 2,
      "confidence": 0.9,
      "type": "chapter",
      "sections": [
        {
          "id": "section_001",
          "title": "Adding MySQL grants to the databases",
          "complete_content": "\nThe new Additional Frontend Servers must be granted permission for access to all the databases on the Primary Backend and apg databases on the Additional Backend Servers.\n\nRun this command to grant remote access to databases &lt;Database&gt; on the Primary Backend Server Primary Backend Server from the Additional Frontend Server &lt;Host FQDN&gt;.\n\n```\n./mysql-command-runner.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/Default/conf/mysqlroot-mysql.xml  -Q \"CREATE USER 'apg'@'<Host FQDN>' IDENTIFIED WITH mysql_native_password AS '*FA71926E39A02D4DA4843003DF34BEADE3920AF3'\"; ./mysql-command-runner.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/Default/conf/mysqlroot-mysql.xml  -Q \"GRANT ALL PRIVILEGES ON apg.* to 'apg'@'<Host FQDN>';\" ./mysql-command-runner.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/Default/conf/mysqlroot-mysql.xml  -Q \"GRANT ALL PRIVILEGES ON compliance.* to 'apg'@'<Host FQDN>';\" ./mysql-command-runner.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/Default/conf/mysqlroot-mysql.xml  -Q \"GRANT ALL PRIVILEGES ON events.* to 'apg'@'<Host FQDN>';\" ./mysql-command-runner.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/Default/conf/mysqlroot-mysql.xml  -Q \"GRANT ALL PRIVILEGES ON master.* to 'apg'@'<Host FQDN>';\" ./mysql-command-runner.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/Default/conf/mysqlroot-mysql.xml  -Q \"GRANT ALL PRIVILEGES ON topology.* to 'apg'@'<Host FQDN>';\"\n```\n\nRun these four commands to grant remote access to apg databases &lt;Database&gt; on the Additional Backend Servers from the Additional Frontend Server &lt;Host FQDN&gt;.\n\n```\n./mysql-command-runner-apg1.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/apg1/conf/mysqlroot-mysql.xml -Q \"CREATE USER 'apg'@'<Host FQDN>' IDENTIFIED WITH mysql_native_password AS '*FA71926E39A02D4DA4843003DF34BEADE3920AF3'\";\n```\n\n```\n./mysql-command-runner-apg1.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/apg1/conf/mysqlroot-mysql.xml -Q \"GRANT ALL PRIVILEGES ON apg1.* to 'apg'@'<Host FQDN>';\" ./mysql-command-runner-apg2.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/apg2/conf/mysqlroot-mysql.xml -Q \"GRANT ALL PRIVILEGES ON apg2.* to 'apg'@'<Host FQDN>';\" ./mysql-command-runner-apg3.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/apg3/conf/mysqlroot-mysql.xml -Q \"GRANT ALL PRIVILEGES ON apg3.* to 'apg'@'<Host FQDN>';\" ./mysql-command-runner-apg4.sh -c /opt/APG/Tools/MySQL-Maintenance-Tool/apg4/conf/mysqlroot-mysql.xml -Q \"GRANT ALL PRIVILEGES ON apg4.* to 'apg'@'<Host FQDN>';\"\n```\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 7,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 2464
        },
        {
          "id": "section_002",
          "title": "Configuring compliance",
          "complete_content": "\nIf Compliance has been installed, run this command on the Additional Frontend Server:\n\n```\n…/APG/bin/administration-tool.sh updateModule -module [ -name 'storage_compliance' -url 'http://<FQDN-Primary-Frontend-server>:58080/compliance-frontend/' ]\n```\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 8,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 253
        },
        {
          "id": "section_003",
          "title": "LDAP authentication",
          "complete_content": "\nIf LDAP authentication has been configured on the Primary Frontend Server, the Realms- configuration and certs files must be copied to the Additional Frontend Servers.\n\nCopy the Realm-configuration File from the Primary Frontend Server to the Additional Frontend Servers:\n\n…/APG/Web-Servers/Tomcat/Default/conf/realms-configuration.xml\n\nCopy the certificate file from the Primary Frontend Server to the Additional Frontend Server:\n\n…APG/Java/Sun-JRE/&lt;Java version&gt;/lib/security\n\n## Import-Properties task\n\nEach Frontend Server has to run the import-property task. If the import-properties task completes in under 30 minutes, then use the defaults. If the import-properties task takes 30 minutes or longer to complete, use a 1 hour start time difference for the import-properties task on the Additional Frontend Server task from the Primary Frontend Server task.\n\n<!-- image -->\n\nNOTE: If there are multiple Additional Frontend Servers, then adjustment of the import-properties Task start time must be staggered so as not to impact the database performance.\n\nThe import-properties task operation could cause a reduced performance of the database servers, especially if the databases are very large and multiple import-properties task instances are running simultaneously. As a consequence, you should edit the import property task and delay the execution of the scripts with respect to each other. The delay must be inserted only if the import tasks take longer than 30 minutes to complete.\n\nEdit the import-properties.task file: …APG/Databases/APG-Property-Store/&lt;instance-name&gt;/conf/importproperties.tas\n\nOn the Primary Frontend Server , this is the default configuration for under 1 hour:\n\n```\n<!-If the average of the last 5 executions takes < 1 hour, schedule at 5:00AM and 12:00PM --> <conditional condition=\"slidingFinishedAverageDuration &lt; 3600000\"> <schedule cron=\"0 5,12 * * *\" xsi:type=\"schedule-repeated\" disabled=\"false\"></schedule> </conditional>\n```\n\nOn the Additional Frontend Server , change the under 1 hour default setting to:\n\n```\n<!-If the average of the last 5 executions takes < 1 hour, schedule at 1:00AM, 6:00AM, 1:00PM, 6:00PM --> <conditional condition=\"slidingFinishedAverageDuration &lt; 3600000\"> <schedule cron=\"1 6,13 * * *\" xsi:type=\"schedule-repeated\" disabled=\"false\"></schedule> </conditional>\n```\n\nOn the Additional Frontend Server , change the under 1 hour default setting to:\n\n```\n<!-If the average of the last 5 executions takes < 1 hour, schedule at 2:00AM, 7:00AM, 2:00PM, 7:00PM --> <conditional condition=\"slidingFinishedAverageDuration &lt; 3600000\"> <schedule cron=\"2 7,14 * * *\" xsi:type=\"schedule-repeated\" disabled=\"false\"></schedule> </conditional>\n```\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 8,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 2718
        },
        {
          "id": "section_004",
          "title": "Activate the new configuration settings",
          "complete_content": "\n## About this task\n\nAfter the configuration changes have been made, the Additional Frontend Server must be added to the Dell SRM Server Configuration and Tomcat Service on the Additional Frontend Server(s) must be restarted.\n\n## Steps\n\n1. From the Dell SRM Primary Frontend Server, select Administration .\n2. To register a new Additional Frontend Server(s), go to CONFIG &gt; Settings &gt; Configure Servers &gt; Register a Server .\n3. Install the System Health Data Collector on the Additional Frontend Server.\n4. Restart the Tomcat Service on the Additional Frontend Server(s).\n5. Log in on the Additional Frontend.\n\n<!-- image -->\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 9,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 635
        }
      ],
      "content_length": 703
    },
    {
      "id": "chapter_03",
      "title": "Configuring the shared reports and tasks",
      "complete_content": "\nThe remainder of the Additional Frontend Server configuration is for sharing the User Reports and to establish an Additional Frontend Server as the Report Scheduler.\n\n## Topics:\n\n- Consolidate the scheduled reports\n- Configuring an NFS share for the user reports\n- Consolidate the scheduled reports\n- Additional frontend server tasks\n",
      "font_size": 24.0,
      "is_bold": true,
      "page": 10,
      "heading_level": 2,
      "confidence": 0.9,
      "type": "chapter",
      "sections": [
        {
          "id": "section_001",
          "title": "Consolidate the scheduled reports",
          "complete_content": "\nDell Technologies recommends consolidating the scheduling of reports to an Additional Frontend Server. Follow the procedure in this section to consolidate the already scheduled reports to the Additional Frontend Server.\n\n## About this task\n\nIf scheduling of reports will be distributed across all Frontend Servers (Primary and Additional) then skip this section.\n\n## Steps\n\n1. On the Primary Frontend Server, go to the scheduled reports directory: cd /opt/APG/Tools/Task-Scheduler/Default/data/task\\_repository/scheduled-reports/\n2. Copy the files from the scheduled-reports directory on the Primary Frontend Server to the same directory of the Additional Frontend Server.\n3. scp -R * root@Additional FE:/opt/APG/Tools/Task-scheduler/Default/data/ NOTE: If the scheduled-reports folder is missing, then copy the folder from the Primary Frontend Server. The folder will\n4. be missing if no reports have been scheduled from the new Additional Frontend Server.\n\n<!-- image -->\n\nReview the scheduled-reports directory to have all the files that are consolidated from the Primary Frontend Server to the Additional Frontend Server\n\n3. Remove the scheduled-reports director from the Primary Frontend Server. cd …/APG/Custom/WebApps-Resources/Default/scheduling\n4. Edit scheduling-servers.xml and change: url=\"https://localhost:48443/\" --&gt; url=https://&lt;Additional FQDN&gt;:48443/\n5. On the Additional Frontend Server, go to the scheduled reports directory: /opt/APG/Tools/Task-Scheduler/Default/data/task\\_repository/\n6. Change the files (and the scheduled-reports directory is it was copied to the Additional Frontend Server) to be owned by apg.\n\nchown apg:apg -R *\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 12,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 1666
        },
        {
          "id": "section_002",
          "title": "Configuring an NFS share for the user reports",
          "complete_content": "\n## Prerequisites\n\nThe Dell SRM folder apg-reports must be shared across all Frontend Servers to provide the users access to their reports regardless of which Frontend Server they are connected to. To accomplish this, an NFS Share is required from a NAS Server, exported with Read/Write permissions for each Frontend Server.\n\n- NOTE: The NFS Share should be a minimum of 1 GB and have the abilities to expand at the NAS server. For the average customer environment, 1 GB should be sufficient, but for a larger user environment, you may want to start with a 3 GB or 5 GB NFS file system.\n- NOTE: Dell does not support installing an NFS Server on the Linux vApp VM.\n\nOnce the NFS File System has been established and exported, follow these steps to add the NFS share to Dell SRM.\n\n- NOTE: For the example configuration below, the NFS Share is name SRM-FE-apg-reports-nfs.\n\n## About this task\n\nPreserve the data on the Primary Frontend Server if the SRM is not a new configuration. If this is a new environment, then skip step 1:\n\n## Steps\n\n1. On the Primary Frontend Server, rename the apg-report director to: apg-reports-old\n\n…/APG/Web-Servers/Tomcat/Default/temp/apg-reports\n\n2. On all the Frontend Servers, edit the /etc/fstab file.\n3. Add this line to the bottom of the fstab file on all Frontend Servers and save:\n\n&lt;nas Ip-Address&gt;:/SRM-FE-apg-reports-nfs /opt/APG/nfs-shared/apg-reports nfs defaults\n\n```\nIppa028:/etc # more fstab Devpts   / dev/ pts          devpts  mode=0620, gid=5  0  0 proc     /proc               proc        defaults      0  0 Sysfs    / sys               sysfs       noauto        0  0 debugfs  /sys/kernel/debug   debugfs   noauto          0  0 Usbfs    /proc/bus/usb       usbfs  noauto             0  0 tmpfs    /run                tmpfs    noauto           0  0 /dev/systemVG/LVRoot / xfs defaults  1  1 /dev/sda1 /boot ext3 defaults  1  2 /dev/mapper/systemVG-Lvswap none swap defaults  0  0 10.247.25.121:/SRM-FE=apg-reports-nfs  /opt/APG/nfs-shared/apg-reports nfs defaults 1  1\n```\n\n4. Create a new directory on /opt/APG ➔ mkdir nfs-shared .\n5. Go to /opt/APG/nfs-shared ➔ mkdir apg-reports.\n6. Cd Change owner ➔ chown -R apg:apg *\n7. Mount the NFS share ➔ mount /opt/APG/nfs-shared/apg-reports.\n8. Go to ➔ /opt/APG/Web-Servers/Tomcat/Default/temp.\n9. Delete apg-reports if the directory exists ➔ mkdir apg-reports .\n10. To create a symbolic link ➔ ln -s /opt/APG/nfs-shared/apg-reports.\n11. Verify the symbolic link with ➔ ls -l\n\n```\nIppa028:/opt/APG/nfs-shared # mount /opt/APG/nfs-shared/apg-reports Ippa028:/opt/ APG/nfs-shared # df -h Filesystem                              Size   Used     Avail     Use%     Mounted on rootfs                                  120G   11G       110G       9%       / devtmpfs                                7.9G   100K      7.9G       1%       /dev tmpfs                                   7.9G     0       7.9G       0%       /dev/shm tmpfs                                   7.9G    64K      7.9G       1%       /run tmpfs                                   7.9G    64K      7.9G       1%       /var/run /dev/mapper/ systemVG-LVRoot            120G    11G      110G       9%       / 10.247.25.121:/SRM-FE-apg-reports=nfs  1009M   768K     1008M       1%       /opt/AGP/ nfs-shared/apg-reports Ippa028: /opt/APG/nfs-shared #\n```\n\n```\nIppa028 : / opt/ AEG/ Web-servers/ Tomcat/ Default/ temp # In -s /opt/AEG/nfs-shared/ apg-reports Ippa02E : / opt/ÄPG/Web-Servers/Tomcat/DefauIt/temp # Is -1 total 0\n```\n\n```\ndrwxr-xr-x  2  apg  apg   6 May    4   13:19 apg-mib-browser-1462382370077 Irwxrwxrwx  1  root root  31 May   4   15:50 apg-reports ->  /opt/APG/nfs-shared/apgreports drwxr-xr-x  2  apg  apg   6 May    4   13:18 jna-96792 -rw-r-----  1  apg  apg   0 May    4   09:45  safeToDelete.tmp\n```\n\n12. Go to the apg-report directory ➔ /opt/APG/Web-Servers/Tomcat/Default/temp/apg- reports.\n13. Verify that the NFS share has R/W privileges by creating a file from each of the Frontend Servers. You should have a minimum of two test files in the apg-reports folder ➔ touch test-file# .\n14. Verify that these files are seen from each of the Frontend Servers.\n15. On the Primary Frontend Server, go to apg-reports-old.\n\nNow copy the data from the apg-reports-old directory to the NFS Share apg-reports. cp -R * /opt/APG/WebServers/Tomcat/Default/temp/apg-reports\n\n16. Ensure that the files are owned by apg user ➔ chown apg:apg -R *\n17. Remove the test-files ➔ rm test*\n18. After the reports have been copied to the NFS Share, the apg-reports-old directory can be removed with ➔ rm -r /opt/APG/Web-Servers/Tomcat/Default/temp/apg-reports-old\n\n```\nIppa 028: /opt/APG/Web-Servers/ Tomcat/ Default/ temp/ apg-reports # Is -als total 24 8 drwxr-xr-x  6  apg   apg   1024 May    4  16:00  . 0 drwxr-xr-x  3  root  root    24 May    4  15:44  . . 8 drwxr-xr-x  2  apg   apg   1024 May    4  15:35 . etc 0 -rw-r--r--  1  apg   ap       0 May    4  15:57 test-file-1 0  -rw-r--r-- 1  apg   apg      0 May    4  15:56 test-file-2 8 drwxr-xr-x  2  apg   apg   1024 May    4  16:00 user-1 0 drwxr-xr-x  2  apg   apg     80 May    4  16:00 user-7\n```\n\n## Consolidate the scheduled reports\n\nDell Technologies recommends consolidating the scheduling of reports to an Additional Frontend Server. Follow the procedure in this section to consolidate the already scheduled reports to the Additional Frontend Server.\n\n## About this task\n\nIf scheduling of reports will be distributed across all Frontend Servers (Primary and Additional) then skip this section.\n\n## Steps\n\n1. On the Primary Frontend Server, go to the scheduled reports directory:\n\ncd /opt/APG/Tools/Task-Scheduler/Default/data/task\\_repository/scheduled-reports/\n\n2. Copy the files from the scheduled-reports directory on the Primary Frontend Server to the same directory of the Additional Frontend Server.\n\nscp -R * root@Additional FE:/opt/APG/Tools/Task-scheduler/Default/data/\n\n<!-- image -->\n\n- NOTE: If the scheduled-reports folder is missing, then copy the folder from the Primary Frontend Server. The folder will be missing if no reports have been scheduled from the new Additional Frontend Server.\n\nReview the scheduled-reports directory to have all the files that are consolidated from the Primary Frontend Server to the Additional Frontend Server\n\n3. Remove the scheduled-reports director from the Primary Frontend Server.\n\ncd …/APG/Custom/WebApps-Resources/Default/scheduling\n\n4. Edit scheduling-servers.xml and change: url=\"https://localhost:48443/\" --&gt; url=https://&lt;Additional FQDN&gt;:48443/\n5. On the Additional Frontend Server, go to the scheduled reports directory:\n\n/opt/APG/Tools/Task-Scheduler/Default/data/task\\_repository/\n\n6. Change the files (and the scheduled-reports directory is it was copied to the Additional Frontend Server) to be owned by apg.\n\nchown apg:apg -R *\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 10,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 6823
        },
        {
          "id": "section_003",
          "title": "Additional frontend server tasks",
          "complete_content": "",
          "font_size": 20.0,
          "is_bold": true,
          "page": 13,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 0
        },
        {
          "id": "section_004",
          "title": "This section describes the additional frontend server tasks that must be disabled.",
          "complete_content": "\n## About this task\n\nOn the additional frontend server, these tasks must be disabled:\n\n- Dell SupportAssist\n- Online Update\n- Tools - usage-intelligence\n\n## Steps\n\n1. After all the changes are completed reboot the Primary Frontend Server and the Additional Frontend Server reboot\n2. Verify that the NAS file system is established after a server start up df -h\n3. Log in to the Primary and Additional Frontend Server with a user that has scheduled and stored reports.\n4. Review the OTB reports. Review the user's reports.\n5. Run the import properties task on the Primary Frontend Server and the Additional Frontend Servers.\n6. Test the Scheduling of a report.\n7. Log in with a user that has Global Admin privileges.\n8. Select a UI administration function and ensure that the UI is redirected to the Primary Frontend Server.\n\n<!-- image -->\n\n## Documentation Feedback\n\nDell Technologies strives to provide accurate and comprehensive documentation and welcomes your suggestions and comments. You can provide feedback in the following ways:\n\n- Online feedback form Rate this content feedback form is present in each topic of the product documentation web pages. Rate the documentation or provide your suggestions using this feedback form.\n- Email-Send your feedback to SRM Doc Feedback. Include the document title, release number, chapter title, and section title of the text corresponding to the feedback.\n\nTo get answers to your queries related to Dell SRM through email, chat, or call, go to Dell Technologies Technical Support page.\n\n<!-- image -->\n\nA\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 13,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 1552
        }
      ],
      "content_length": 335
    },
    {
      "id": "chapter_04",
      "title": "F5 load balancer configuration",
      "complete_content": "",
      "font_size": 24.0,
      "is_bold": true,
      "page": 15,
      "heading_level": 2,
      "confidence": 0.9,
      "type": "chapter",
      "sections": [],
      "content_length": 0
    },
    {
      "id": "chapter_05",
      "title": "Parameters that you need to tweak for an F5 Load balancer configuration are:",
      "complete_content": "",
      "font_size": 24.0,
      "is_bold": true,
      "page": 15,
      "heading_level": 2,
      "confidence": 0.9,
      "type": "chapter",
      "sections": [],
      "content_length": 0
    },
    {
      "id": "chapter_06",
      "title": "Table 1. F5 Load Balancer Configuration",
      "complete_content": "\n| Configuration Name    | Value                                                           |\n|-----------------------|-----------------------------------------------------------------|\n| Server pool           | Hostname and IP-Address of each Dell SRM Frontend Server        |\n| Persistence type      | Destination address affinity persistence (Sticky)               |\n| Load balancing method | Least connections (member) and least connections (node)         |\n| Action on shutdown    | Load balancing method                                           |\n| Health monitors       | Associate with pool. If not possible associate with each member |\n\n<!-- image -->\n",
      "font_size": 24.0,
      "is_bold": true,
      "page": 15,
      "heading_level": 2,
      "confidence": 0.9,
      "type": "chapter",
      "sections": [],
      "content_length": 661
    },
    {
      "id": "chapter_07",
      "title": "HAProxy load balancer configuration",
      "complete_content": "\nWhen using a Network Load Balancer (F5) or Appliance-based Web Proxy (HAProxy), the Dell SRM URL is redirected to any Frontend Server. For Administrators, these functions will redirect the user to the Primary Frontend Server.\n\nHAProxy is open source software. The following code sample shows how to configure HAProxy to balance the load across all Frontend Servers.\n\n```\nglobal log /dev/log local0 info log /dev/log local0 notice chroot /var/lib/haproxy pidfile                /var/run/haproxy.pid maxconn 5000 user                   haproxy group                  haproxy daemon # turn on stats unix socket stats socket /etc/haproxy/haproxy.sock level admin defaults mode                   http log                    global option                 httplog option                 dontlognull option http-server-close option forwardfor      except 127.0 0.0/8 option                 redispatch retries                  3 timeout http-request    10s timeout queue            1m timeout connect         10s timeout client           1m timeout server           1m timeout http-keep-alive 10s timeout check           10s maxconn                 3000 frontend http-in bind *:80 acl url_static       path_beg -i       /administration acl url_static       path_beg          -i /alerting-frontend acl url_static       path_beg          -i /compliance-frontend acl url_static       path_beg          -i /device-discovery acl url_static       path_beg          -i /snmpconfig use_backend static   if url_static default_backend      app backend static balance     roundrobin option      forwardfor option http-server-close appsession JSESSIONID len 52 timeout 14400000 # Main admin server server    m_frontend    backend:58080    weight   256   check # HA admin server server    s_frontend    frontend:58080   weight    2    check backend     app balance     roundrobin option      forwardfor option http-server-close appsession JSESSIONID len 52 timeout 14400000 # No.1 APG server server    frontend      backend:58080    check inter 5000 # No.2 APG server server    frontend2     frontend:58080   check inter 5000 # No.3 APG server server    frontend3     frontend2:58080 check inter 5000\n```\n\nlisten stats bind *:88 stats enable stats uri /\n\nFrequently asked questions.\n\n## Topics:\n\n- SolutionPacks report installation\n- SolutionPacks upload\n- SolutionPacks formula\n- SolutionPacks property-mapping\n",
      "font_size": 24.0,
      "is_bold": true,
      "page": 16,
      "heading_level": 2,
      "confidence": 0.9,
      "type": "chapter",
      "sections": [
        {
          "id": "section_001",
          "title": "SolutionPacks report installation",
          "complete_content": "\nThe SolutionPack Reports are installed on the Frontend Server. The Primary Frontend Server should be selected in the interactive installation window for SolutionPacks. The report is transferred from the Frontend Server to the MySQL database and will be visible on all Frontend Servers.\n\n## SolutionPacks upload\n\nSince administration performs the upload, the operation takes place on the Primary Frontend Server. The package file is saved locally and can only be installed from this Primary Frontend Server. If the Primary Frontend Server is in a high availability solution, the folder must be updated as well.\n\n## SolutionPacks formula\n\nA SolutionPack can have a local formula that is built in a java file used in the reports. The formula is installed on the Frontend Server pointed to during installation. The SolutionPack that has a custom formula contains a java file in the blocks\\reports\\templates\\arp\\_formulas folder. Currently, the only SolutionPack affected is the Dell SolutionPack which uses the formula.\n",
          "font_size": 20.0,
          "is_bold": true,
          "page": 18,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 1017
        },
        {
          "id": "section_002",
          "title": "SolutionPacks property-mapping",
          "complete_content": "\nIf the SolutionPack uses events, then the report has an XML file for property mapping that is saved on the pointed to Frontend Server only.\n\n<!-- image -->\n\nC\n\n<!-- image -->\n\n## FAQ",
          "font_size": 20.0,
          "is_bold": true,
          "page": 18,
          "heading_level": 4,
          "confidence": 0.9,
          "type": "section",
          "content_length": 183
        }
      ],
      "content_length": 2391
    }
  ],
  "total_chapters": 7,
  "total_sections": 15,
  "extraction_method": "hybrid_enhanced"
}